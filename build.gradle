apply plugin: 'java'
apply plugin: 'maven'

project.ext {
    mainClass = 'org.openbaton.api.occi.Startup'

    springBootVersion = '1.2.7.RELEASE'
}

buildscript {
    repositories {
        mavenCentral()
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath("org.springframework.boot:spring-boot-gradle-plugin:1.2.7.RELEASE")
        classpath("gradle.plugin.com.github.sherter.google-java-format:google-java-format-gradle-plugin:0.3.2")
    }
}
apply plugin: "com.github.sherter.google-java-format"
apply plugin: 'spring-boot'
bootRepackage {
    mainClass = 'org.openbaton.api.occi.Startup'
}

repositories {
    mavenCentral()
    maven {
        url "http://get.openbaton.org:8081/nexus/content/groups/public"
    }
}

subprojects{
    apply plugin: 'java'
    apply plugin: 'maven'

    repositories {
        mavenCentral()
        maven {
            url "http://get.openbaton.org:8081/nexus/content/groups/public"
        }
    }

}

dependencies {
    compile 'org.springframework.boot:spring-boot-autoconfigure:' + springBootVersion
    compile 'org.springframework.boot:spring-boot-starter-logging:1.2.7.RELEASE'

    runtime project(":api")
}
